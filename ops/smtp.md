# ನಿಮ್ಮ ಸ್ವಂತ SMTP ಮೇಲ್ ಕಳುಹಿಸುವ ಸರ್ವರ್ ಅನ್ನು ನಿರ್ಮಿಸಿ

## ಪೀಠಿಕೆ

SMTP ಕ್ಲೌಡ್ ಮಾರಾಟಗಾರರಿಂದ ನೇರವಾಗಿ ಸೇವೆಗಳನ್ನು ಖರೀದಿಸಬಹುದು, ಉದಾಹರಣೆಗೆ:

* [ಅಮೆಜಾನ್ SES SMTP](https://docs.aws.amazon.com/ses/latest/dg/send-email-smtp.html)
* [ಅಲಿ ಕ್ಲೌಡ್ ಇಮೇಲ್ ಪುಶ್](https://www.alibabacloud.com/help/directmail/latest/three-mail-sending-methods)

ನಿಮ್ಮ ಸ್ವಂತ ಮೇಲ್ ಸರ್ವರ್ ಅನ್ನು ಸಹ ನೀವು ನಿರ್ಮಿಸಬಹುದು - ಅನಿಯಮಿತ ಕಳುಹಿಸುವಿಕೆ, ಕಡಿಮೆ ಒಟ್ಟಾರೆ ವೆಚ್ಚ.

ಕೆಳಗೆ, ನಮ್ಮ ಸ್ವಂತ ಮೇಲ್ ಸರ್ವರ್ ಅನ್ನು ಹೇಗೆ ನಿರ್ಮಿಸುವುದು ಎಂಬುದನ್ನು ನಾವು ಹಂತ ಹಂತವಾಗಿ ಪ್ರದರ್ಶಿಸುತ್ತೇವೆ.

## ಸರ್ವರ್ ಆಯ್ಕೆ

ಸ್ವಯಂ-ಹೋಸ್ಟ್ ಮಾಡಿದ SMTP ಸರ್ವರ್‌ಗೆ ಸಾರ್ವಜನಿಕ IP ಪೋರ್ಟ್‌ಗಳು 25, 456 ಮತ್ತು 587 ತೆರೆದಿರುವ ಅಗತ್ಯವಿದೆ.

ಸಾಮಾನ್ಯವಾಗಿ ಬಳಸುವ ಸಾರ್ವಜನಿಕ ಮೋಡಗಳು ಪೂರ್ವನಿಯೋಜಿತವಾಗಿ ಈ ಪೋರ್ಟ್‌ಗಳನ್ನು ನಿರ್ಬಂಧಿಸಿವೆ ಮತ್ತು ಕೆಲಸದ ಆದೇಶವನ್ನು ನೀಡುವ ಮೂಲಕ ಅವುಗಳನ್ನು ತೆರೆಯಲು ಸಾಧ್ಯವಾಗಬಹುದು, ಆದರೆ ಇದು ತುಂಬಾ ತೊಂದರೆದಾಯಕವಾಗಿದೆ.

ಈ ಪೋರ್ಟ್‌ಗಳನ್ನು ತೆರೆದಿರುವ ಮತ್ತು ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರುಗಳನ್ನು ಹೊಂದಿಸುವುದನ್ನು ಬೆಂಬಲಿಸುವ ಹೋಸ್ಟ್‌ನಿಂದ ಖರೀದಿಸಲು ನಾನು ಶಿಫಾರಸು ಮಾಡುತ್ತೇವೆ.

ಇಲ್ಲಿ, ನಾನು [Contabo ಅನ್ನು](https://contabo.com) ಶಿಫಾರಸು ಮಾಡುತ್ತೇವೆ.

Contabo ಜರ್ಮನಿಯ ಮ್ಯೂನಿಚ್ ಮೂಲದ ಹೋಸ್ಟಿಂಗ್ ಪೂರೈಕೆದಾರರಾಗಿದ್ದು, 2003 ರಲ್ಲಿ ಬಹಳ ಸ್ಪರ್ಧಾತ್ಮಕ ಬೆಲೆಗಳೊಂದಿಗೆ ಸ್ಥಾಪಿಸಲಾಯಿತು.

ನೀವು ಯುರೋವನ್ನು ಖರೀದಿಯ ಕರೆನ್ಸಿಯಾಗಿ ಆರಿಸಿದರೆ, ಬೆಲೆಯು ಅಗ್ಗವಾಗಿರುತ್ತದೆ (8GB ಮೆಮೊರಿ ಮತ್ತು 4 CPU ಗಳೊಂದಿಗಿನ ಸರ್ವರ್ ವರ್ಷಕ್ಕೆ ಸುಮಾರು 529 ಯುವಾನ್ ವೆಚ್ಚವಾಗುತ್ತದೆ ಮತ್ತು ಆರಂಭಿಕ ಅನುಸ್ಥಾಪನಾ ಶುಲ್ಕವು ಒಂದು ವರ್ಷಕ್ಕೆ ಉಚಿತವಾಗಿದೆ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/UoAQkwY.webp)

ಆರ್ಡರ್ ಮಾಡುವಾಗ, ರಿಮಾರ್ಕ್ `prefer AMD` , ಮತ್ತು ಎಎಮ್‌ಡಿ ಸಿಪಿಯು ಹೊಂದಿರುವ ಸರ್ವರ್ ಉತ್ತಮ ಕಾರ್ಯಕ್ಷಮತೆಯನ್ನು ಹೊಂದಿರುತ್ತದೆ.

ಕೆಳಗಿನವುಗಳಲ್ಲಿ, ನಿಮ್ಮ ಸ್ವಂತ ಮೇಲ್ ಸರ್ವರ್ ಅನ್ನು ಹೇಗೆ ನಿರ್ಮಿಸುವುದು ಎಂಬುದನ್ನು ಪ್ರದರ್ಶಿಸಲು ನಾನು Contabo ನ VPS ಅನ್ನು ಉದಾಹರಣೆಯಾಗಿ ತೆಗೆದುಕೊಳ್ಳುತ್ತೇನೆ.

## ಉಬುಂಟು ಸಿಸ್ಟಮ್ ಕಾನ್ಫಿಗರೇಶನ್

ಇಲ್ಲಿ ಆಪರೇಟಿಂಗ್ ಸಿಸ್ಟಮ್ ಉಬುಂಟು 22.04 ಆಗಿದೆ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/smpIu1F.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/m7Mwjwr.webp)

ssh ನಲ್ಲಿ ಸರ್ವರ್ ಪ್ರದರ್ಶಿಸಿದರೆ `Welcome to TinyCore 13!` (ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ತೋರಿಸಿರುವಂತೆ), ಸಿಸ್ಟಮ್ ಅನ್ನು ಇನ್ನೂ ಸ್ಥಾಪಿಸಲಾಗಿಲ್ಲ ಎಂದರ್ಥ. ದಯವಿಟ್ಟು ssh ಸಂಪರ್ಕ ಕಡಿತಗೊಳಿಸಿ ಮತ್ತು ಮತ್ತೆ ಲಾಗ್ ಇನ್ ಆಗಲು ಕೆಲವು ನಿಮಿಷಗಳ ಕಾಲ ನಿರೀಕ್ಷಿಸಿ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/-qKACz9.webp)

`Welcome to Ubuntu 22.04.1 LTS` ಕಾಣಿಸಿಕೊಂಡಾಗ, ಪ್ರಾರಂಭವು ಪೂರ್ಣಗೊಂಡಿದೆ ಮತ್ತು ನೀವು ಈ ಕೆಳಗಿನ ಹಂತಗಳೊಂದಿಗೆ ಮುಂದುವರಿಯಬಹುದು.

### [ಐಚ್ಛಿಕ] ಅಭಿವೃದ್ಧಿ ಪರಿಸರವನ್ನು ಪ್ರಾರಂಭಿಸಿ

ಈ ಹಂತವು ಐಚ್ಛಿಕವಾಗಿರುತ್ತದೆ.

ಅನುಕೂಲಕ್ಕಾಗಿ, ನಾನು ಉಬುಂಟು ಸಾಫ್ಟ್‌ವೇರ್‌ನ ಸ್ಥಾಪನೆ ಮತ್ತು ಸಿಸ್ಟಮ್ ಕಾನ್ಫಿಗರೇಶನ್ ಅನ್ನು [github.com/wactax/ops.os/tree/main/ubuntu](https://github.com/wactax/ops.os/tree/main/ubuntu) ನಲ್ಲಿ ಇರಿಸಿದೆ.

ಒಂದು ಕ್ಲಿಕ್‌ನಲ್ಲಿ ಸ್ಥಾಪಿಸಲು ಕೆಳಗಿನ ಆಜ್ಞೆಯನ್ನು ಚಲಾಯಿಸಿ.

```
bash <(curl -s https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

ಚೀನೀ ಬಳಕೆದಾರರು, ದಯವಿಟ್ಟು ಈ ಕೆಳಗಿನ ಆಜ್ಞೆಯನ್ನು ಬಳಸಿ, ಮತ್ತು ಭಾಷೆ, ಸಮಯ ವಲಯ, ಇತ್ಯಾದಿಗಳನ್ನು ಸ್ವಯಂಚಾಲಿತವಾಗಿ ಹೊಂದಿಸಲಾಗುತ್ತದೆ.

```
CN=1 bash <(curl -s https://ghproxy.com/https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

### Contabo IPV6 ಅನ್ನು ಸಕ್ರಿಯಗೊಳಿಸುತ್ತದೆ

IPV6 ಅನ್ನು ಸಕ್ರಿಯಗೊಳಿಸಿ ಇದರಿಂದ SMTP IPV6 ವಿಳಾಸಗಳೊಂದಿಗೆ ಇಮೇಲ್‌ಗಳನ್ನು ಸಹ ಕಳುಹಿಸಬಹುದು.

ಸಂಪಾದಿಸಿ `/etc/sysctl.conf`

ಕೆಳಗಿನ ಸಾಲುಗಳನ್ನು ಮಾರ್ಪಡಿಸಿ ಅಥವಾ ಸೇರಿಸಿ

```
net.ipv6.conf.all.disable_ipv6 = 0
net.ipv6.conf.default.disable_ipv6 = 0
net.ipv6.conf.lo.disable_ipv6 = 0
```

[contabo ಟ್ಯುಟೋರಿಯಲ್ ಅನ್ನು ಅನುಸರಿಸಿ: ನಿಮ್ಮ ಸರ್ವರ್‌ಗೆ IPv6 ಸಂಪರ್ಕವನ್ನು ಸೇರಿಸಲಾಗುತ್ತಿದೆ](https://contabo.com/blog/adding-ipv6-connectivity-to-your-server/)

ಸಂಪಾದಿಸಿ `/etc/netplan/01-netcfg.yaml` , ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ತೋರಿಸಿರುವಂತೆ ಕೆಲವು ಸಾಲುಗಳನ್ನು ಸೇರಿಸಿ (Contabo VPS ಡೀಫಾಲ್ಟ್ ಕಾನ್ಫಿಗರೇಶನ್ ಫೈಲ್ ಈಗಾಗಲೇ ಈ ಸಾಲುಗಳನ್ನು ಹೊಂದಿದೆ, ಅವುಗಳನ್ನು ರದ್ದುಗೊಳಿಸಿ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/5MEi41I.webp)

ನಂತರ ಮಾರ್ಪಡಿಸಿದ ಸಂರಚನೆಯನ್ನು ಕಾರ್ಯಗತಗೊಳಿಸಲು `netplan apply` .

ಕಾನ್ಫಿಗರೇಶನ್ ಯಶಸ್ವಿಯಾದ ನಂತರ, ನಿಮ್ಮ ಬಾಹ್ಯ ನೆಟ್‌ವರ್ಕ್‌ನ ipv6 ವಿಳಾಸವನ್ನು ವೀಕ್ಷಿಸಲು ನೀವು `curl 6.ipw.cn` ಬಳಸಬಹುದು.

## ಕಾನ್ಫಿಗರೇಶನ್ ರೆಪೊಸಿಟರಿ ಆಪ್‌ಗಳನ್ನು ಕ್ಲೋನ್ ಮಾಡಿ

```
git clone https://github.com/wactax/ops.soft.git
```

## ನಿಮ್ಮ ಡೊಮೇನ್ ಹೆಸರಿಗಾಗಿ ಉಚಿತ SSL ಪ್ರಮಾಣಪತ್ರವನ್ನು ರಚಿಸಿ

ಮೇಲ್ ಕಳುಹಿಸಲು ಎನ್‌ಕ್ರಿಪ್ಶನ್ ಮತ್ತು ಸಹಿ ಮಾಡಲು SSL ಪ್ರಮಾಣಪತ್ರದ ಅಗತ್ಯವಿದೆ.

ಪ್ರಮಾಣಪತ್ರಗಳನ್ನು ರಚಿಸಲು ನಾವು [acme.sh ಅನ್ನು](https://github.com/acmesh-official/acme.sh) ಬಳಸುತ್ತೇವೆ.

acme.sh ಒಂದು ಮುಕ್ತ ಮೂಲ ಸ್ವಯಂಚಾಲಿತ ಪ್ರಮಾಣಪತ್ರ ಸಹಿ ಸಾಧನವಾಗಿದೆ,

ಕಾನ್ಫಿಗರೇಶನ್ ವೇರ್ಹೌಸ್ ops.soft ಅನ್ನು ನಮೂದಿಸಿ, `./ssl.sh` ರನ್ ಮಾಡಿ ಮತ್ತು **ಮೇಲಿನ ಡೈರೆಕ್ಟರಿಯಲ್ಲಿ** `conf` ಫೋಲ್ಡರ್ ಅನ್ನು ರಚಿಸಲಾಗುತ್ತದೆ.

[acme.sh dnsapi](https://github.com/acmesh-official/acme.sh/wiki/dnsapi) ನಿಂದ ನಿಮ್ಮ DNS ಪೂರೈಕೆದಾರರನ್ನು ಹುಡುಕಿ, `conf/conf.sh` ಸಂಪಾದಿಸಿ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Qjq1C1i.webp)

ನಂತರ ನಿಮ್ಮ ಡೊಮೇನ್ ಹೆಸರಿಗಾಗಿ `123.com` ಮತ್ತು `*.123.com` ಪ್ರಮಾಣಪತ್ರಗಳನ್ನು ರಚಿಸಲು `./ssl.sh 123.com` ರನ್ ಮಾಡಿ.

ಮೊದಲ ರನ್ ಸ್ವಯಂಚಾಲಿತವಾಗಿ [acme.sh ಅನ್ನು](https://github.com/acmesh-official/acme.sh) ಸ್ಥಾಪಿಸುತ್ತದೆ ಮತ್ತು ಸ್ವಯಂಚಾಲಿತ ನವೀಕರಣಕ್ಕಾಗಿ ನಿಗದಿತ ಕಾರ್ಯವನ್ನು ಸೇರಿಸುತ್ತದೆ. ನೀವು `crontab -l` ನೋಡಬಹುದು, ಈ ಕೆಳಗಿನಂತೆ ಅಂತಹ ಒಂದು ಸಾಲು ಇದೆ.

```
52 0 * * * "/mnt/www/.acme.sh"/acme.sh --cron --home "/mnt/www/.acme.sh" > /dev/null
```

ರಚಿಸಿದ ಪ್ರಮಾಣಪತ್ರದ ಮಾರ್ಗವು `/mnt/www/.acme.sh/123.com_ecc。`

ಪ್ರಮಾಣಪತ್ರ ನವೀಕರಣವು `conf/reload/123.com.sh` ಸ್ಕ್ರಿಪ್ಟ್ ಅನ್ನು ಕರೆಯುತ್ತದೆ, ಈ ಸ್ಕ್ರಿಪ್ಟ್ ಅನ್ನು ಸಂಪಾದಿಸಿ, ಸಂಬಂಧಿತ ಅಪ್ಲಿಕೇಶನ್‌ಗಳ ಪ್ರಮಾಣಪತ್ರ ಸಂಗ್ರಹವನ್ನು ರಿಫ್ರೆಶ್ ಮಾಡಲು ನೀವು `nginx -s reload` ಆಜ್ಞೆಗಳನ್ನು ಸೇರಿಸಬಹುದು.

## ಚಾಸ್ಕ್ವಿಡ್‌ನೊಂದಿಗೆ SMTP ಸರ್ವರ್ ಅನ್ನು ನಿರ್ಮಿಸಿ

[chasquid](https://github.com/albertito/chasquid) ಎಂಬುದು ಗೋ ಭಾಷೆಯಲ್ಲಿ ಬರೆಯಲಾದ ಓಪನ್ ಸೋರ್ಸ್ SMTP ಸರ್ವರ್ ಆಗಿದೆ.

ಪೋಸ್ಟ್‌ಫಿಕ್ಸ್ ಮತ್ತು ಸೆಂಡ್‌ಮೇಲ್‌ನಂತಹ ಪುರಾತನ ಮೇಲ್ ಸರ್ವರ್ ಪ್ರೋಗ್ರಾಂಗಳಿಗೆ ಬದಲಿಯಾಗಿ, ಚಾಸ್ಕ್ವಿಡ್ ಸರಳವಾಗಿದೆ ಮತ್ತು ಬಳಸಲು ಸುಲಭವಾಗಿದೆ ಮತ್ತು ದ್ವಿತೀಯ ಅಭಿವೃದ್ಧಿಗೆ ಇದು ಸುಲಭವಾಗಿದೆ.

ರನ್ `./chasquid/init.sh 123.com` ಒಂದು ಕ್ಲಿಕ್‌ನಲ್ಲಿ ಸ್ವಯಂಚಾಲಿತವಾಗಿ ಸ್ಥಾಪಿಸಲಾಗುತ್ತದೆ (ನಿಮ್ಮ ಕಳುಹಿಸುವ ಡೊಮೇನ್ ಹೆಸರಿನೊಂದಿಗೆ 123.com ಅನ್ನು ಬದಲಾಯಿಸಿ).

## ಇಮೇಲ್ ಸಹಿ DKIM ಅನ್ನು ಕಾನ್ಫಿಗರ್ ಮಾಡಿ

ಪತ್ರಗಳನ್ನು ಸ್ಪ್ಯಾಮ್ ಎಂದು ಪರಿಗಣಿಸುವುದನ್ನು ತಡೆಯಲು ಇಮೇಲ್ ಸಹಿಗಳನ್ನು ಕಳುಹಿಸಲು DKIM ಅನ್ನು ಬಳಸಲಾಗುತ್ತದೆ.

ಆಜ್ಞೆಯು ಯಶಸ್ವಿಯಾಗಿ ರನ್ ಆದ ನಂತರ, DKIM ದಾಖಲೆಯನ್ನು ಹೊಂದಿಸಲು ನಿಮ್ಮನ್ನು ಕೇಳಲಾಗುತ್ತದೆ (ಕೆಳಗೆ ತೋರಿಸಿರುವಂತೆ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/LJWGsmI.webp)

ನಿಮ್ಮ DNS ಗೆ TXT ದಾಖಲೆಯನ್ನು ಸೇರಿಸಿ (ಕೆಳಗೆ ತೋರಿಸಿರುವಂತೆ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/0szKWqV.webp)

## ಸೇವೆಯ ಸ್ಥಿತಿ ಮತ್ತು ಲಾಗ್‌ಗಳನ್ನು ವೀಕ್ಷಿಸಿ

 `systemctl status chasquid` ಸೇವೆಯ ಸ್ಥಿತಿಯನ್ನು ವೀಕ್ಷಿಸಿ.

ಸಾಮಾನ್ಯ ಕಾರ್ಯಾಚರಣೆಯ ಸ್ಥಿತಿಯನ್ನು ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ತೋರಿಸಲಾಗಿದೆ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/CAwyY4E.webp)

 `grep chasquid /var/log/syslog` ಅಥವಾ `journalctl -xeu chasquid` ದೋಷ ಲಾಗ್ ಅನ್ನು ವೀಕ್ಷಿಸಬಹುದು.

## ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರು ಕಾನ್ಫಿಗರೇಶನ್

ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರು IP ವಿಳಾಸವನ್ನು ಅನುಗುಣವಾದ ಡೊಮೇನ್ ಹೆಸರಿಗೆ ಪರಿಹರಿಸಲು ಅನುಮತಿಸುತ್ತದೆ.

ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರನ್ನು ಹೊಂದಿಸುವುದರಿಂದ ಇಮೇಲ್‌ಗಳನ್ನು ಸ್ಪ್ಯಾಮ್ ಎಂದು ಗುರುತಿಸುವುದನ್ನು ತಡೆಯಬಹುದು.

ಮೇಲ್ ಸ್ವೀಕರಿಸಿದಾಗ, ಕಳುಹಿಸುವ ಸರ್ವರ್ ಮಾನ್ಯವಾದ ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರನ್ನು ಹೊಂದಿದೆಯೇ ಎಂದು ಖಚಿತಪಡಿಸಲು ಕಳುಹಿಸುವ ಸರ್ವರ್‌ನ IP ವಿಳಾಸದಲ್ಲಿ ಸ್ವೀಕರಿಸುವ ಸರ್ವರ್ ರಿವರ್ಸ್ ಡೊಮೇನ್ ನೇಮ್ ವಿಶ್ಲೇಷಣೆಯನ್ನು ಮಾಡುತ್ತದೆ.

ಕಳುಹಿಸುವ ಸರ್ವರ್ ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರನ್ನು ಹೊಂದಿಲ್ಲದಿದ್ದರೆ ಅಥವಾ ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರು ಕಳುಹಿಸುವ ಸರ್ವರ್‌ನ IP ವಿಳಾಸಕ್ಕೆ ಹೊಂದಿಕೆಯಾಗದಿದ್ದರೆ, ಸ್ವೀಕರಿಸುವ ಸರ್ವರ್ ಇಮೇಲ್ ಅನ್ನು ಸ್ಪ್ಯಾಮ್ ಎಂದು ಗುರುತಿಸಬಹುದು ಅಥವಾ ಅದನ್ನು ತಿರಸ್ಕರಿಸಬಹುದು.

[https://my.contabo.com/rdns](https://my.contabo.com/rdns) ಗೆ ಭೇಟಿ ನೀಡಿ ಮತ್ತು ಕೆಳಗೆ ತೋರಿಸಿರುವಂತೆ ಕಾನ್ಫಿಗರ್ ಮಾಡಿ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/IIPdBk_.webp)

ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರನ್ನು ಹೊಂದಿಸಿದ ನಂತರ, ಡೊಮೇನ್ ಹೆಸರು ipv4 ಮತ್ತು ipv6 ನ ಫಾರ್ವರ್ಡ್ ರೆಸಲ್ಯೂಶನ್ ಅನ್ನು ಸರ್ವರ್‌ಗೆ ಕಾನ್ಫಿಗರ್ ಮಾಡಲು ಮರೆಯದಿರಿ.

## chasquid.conf ನ ಹೋಸ್ಟ್ ಹೆಸರನ್ನು ಸಂಪಾದಿಸಿ

`conf/chasquid/chasquid.conf` ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರಿನ ಮೌಲ್ಯಕ್ಕೆ ಮಾರ್ಪಡಿಸಿ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/6Fw4SQi.webp)

ನಂತರ ಸೇವೆಯನ್ನು ಮರುಪ್ರಾರಂಭಿಸಲು `systemctl restart chasquid` ರನ್ ಮಾಡಿ.

## git ರೆಪೊಸಿಟರಿಗೆ ಬ್ಯಾಕಪ್ conf

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Fier9uv.webp)

ಉದಾಹರಣೆಗೆ, ನಾನು ಈ ಕೆಳಗಿನಂತೆ ನನ್ನ ಸ್ವಂತ ಗಿಥಬ್ ಪ್ರಕ್ರಿಯೆಗೆ conf ಫೋಲ್ಡರ್ ಅನ್ನು ಬ್ಯಾಕಪ್ ಮಾಡುತ್ತೇನೆ

ಮೊದಲು ಖಾಸಗಿ ಗೋದಾಮು ರಚಿಸಿ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ZSCT1t1.webp)

conf ಡೈರೆಕ್ಟರಿಯನ್ನು ನಮೂದಿಸಿ ಮತ್ತು ಗೋದಾಮಿಗೆ ಸಲ್ಲಿಸಿ

```
git init
git add .
git commit -m "init"
git branch -M main
git remote add origin git@github.com:wac-tax-key/conf.git
git push -u origin main
```

## ಕಳುಹಿಸುವವರನ್ನು ಸೇರಿಸಿ

ಓಡು

```
chasquid-util user-add i@wac.tax
```

ಕಳುಹಿಸುವವರನ್ನು ಸೇರಿಸಬಹುದು

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/khHjLof.webp)

### ಪಾಸ್ವರ್ಡ್ ಅನ್ನು ಸರಿಯಾಗಿ ಹೊಂದಿಸಲಾಗಿದೆಯೇ ಎಂದು ಪರಿಶೀಲಿಸಿ

```
chasquid-util authenticate i@wac.tax --password=xxxxxxx
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/e92JHXq.webp)

ಬಳಕೆದಾರರನ್ನು ಸೇರಿಸಿದ ನಂತರ, `chasquid/domains/wac.tax/users` ನವೀಕರಿಸಲಾಗುತ್ತದೆ, ಅದನ್ನು ಗೋದಾಮಿಗೆ ಸಲ್ಲಿಸಲು ಮರೆಯದಿರಿ.

## DNS SPF ದಾಖಲೆಯನ್ನು ಸೇರಿಸಿ

SPF (ಕಳುಹಿಸುವವರ ನೀತಿ ಫ್ರೇಮ್‌ವರ್ಕ್) ಇಮೇಲ್ ವಂಚನೆಯನ್ನು ತಡೆಯಲು ಬಳಸುವ ಇಮೇಲ್ ಪರಿಶೀಲನೆ ತಂತ್ರಜ್ಞಾನವಾಗಿದೆ.

ಕಳುಹಿಸುವವರ IP ವಿಳಾಸವು ತಾನು ಹೇಳಿಕೊಳ್ಳುವ ಡೊಮೇನ್ ಹೆಸರಿನ DNS ದಾಖಲೆಗಳಿಗೆ ಹೊಂದಿಕೆಯಾಗುತ್ತದೆಯೇ ಎಂದು ಪರಿಶೀಲಿಸುವ ಮೂಲಕ ಮೇಲ್ ಕಳುಹಿಸುವವರ ಗುರುತನ್ನು ಪರಿಶೀಲಿಸುತ್ತದೆ, ವಂಚಕರು ನಕಲಿ ಇಮೇಲ್‌ಗಳನ್ನು ಕಳುಹಿಸುವುದನ್ನು ತಡೆಯುತ್ತದೆ.

SPF ದಾಖಲೆಗಳನ್ನು ಸೇರಿಸುವುದರಿಂದ ಇಮೇಲ್‌ಗಳನ್ನು ಸ್ಪ್ಯಾಮ್ ಎಂದು ಗುರುತಿಸುವುದನ್ನು ಸಾಧ್ಯವಾದಷ್ಟು ತಡೆಯಬಹುದು.

ನಿಮ್ಮ ಡೊಮೇನ್ ನೇಮ್ ಸರ್ವರ್ SPF ಪ್ರಕಾರವನ್ನು ಬೆಂಬಲಿಸದಿದ್ದರೆ, TXT ಪ್ರಕಾರದ ದಾಖಲೆಯನ್ನು ಸೇರಿಸಿ.

ಉದಾಹರಣೆಗೆ, `wac.tax` ನ SPF ಈ ಕೆಳಗಿನಂತಿರುತ್ತದೆ

`v=spf1 a mx include:_spf.wac.tax include:_spf.google.com ~all`

`_spf.wac.tax` ಗಾಗಿ SPF

`v=spf1 a:smtp.wac.tax ~all`

ನಾನು ಇಲ್ಲಿ `include:_spf.google.com` ಎಂಬುದನ್ನು ಗಮನಿಸಿ, ಏಕೆಂದರೆ ನಾನು ನಂತರ Google ಮೇಲ್‌ಬಾಕ್ಸ್‌ನಲ್ಲಿ ಕಳುಹಿಸುವ ವಿಳಾಸವಾಗಿ `i@wac.tax` ಕಾನ್ಫಿಗರ್ ಮಾಡುತ್ತೇನೆ.

## DNS ಕಾನ್ಫಿಗರೇಶನ್ DMARC

DMARC ಎಂಬುದು (ಡೊಮೈನ್-ಆಧಾರಿತ ಸಂದೇಶ ದೃಢೀಕರಣ, ವರದಿ ಮಾಡುವಿಕೆ ಮತ್ತು ಅನುಸರಣೆ) ನ ಸಂಕ್ಷಿಪ್ತ ರೂಪವಾಗಿದೆ.

SPF ಬೌನ್ಸ್‌ಗಳನ್ನು ಸೆರೆಹಿಡಿಯಲು ಇದನ್ನು ಬಳಸಲಾಗುತ್ತದೆ (ಬಹುಶಃ ಕಾನ್ಫಿಗರೇಶನ್ ದೋಷಗಳಿಂದ ಉಂಟಾಗಬಹುದು ಅಥವಾ ಸ್ಪ್ಯಾಮ್ ಕಳುಹಿಸಲು ಬೇರೊಬ್ಬರು ನಿಮ್ಮಂತೆ ನಟಿಸುತ್ತಿದ್ದಾರೆ).

TXT ರೆಕಾರ್ಡ್ `_dmarc` ಸೇರಿಸಿ,

ವಿಷಯ ಈ ಕೆಳಗಿನಂತಿದೆ

```
v=DMARC1; p=quarantine; fo=1; ruf=mailto:ruf@wac.tax; rua=mailto:rua@wac.tax
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/k44P7O3.webp)

ಪ್ರತಿ ಪ್ಯಾರಾಮೀಟರ್ನ ಅರ್ಥವು ಈ ಕೆಳಗಿನಂತಿರುತ್ತದೆ

### p (ನೀತಿ)

SPF (ಕಳುಹಿಸುವವರ ನೀತಿ ಫ್ರೇಮ್‌ವರ್ಕ್) ಅಥವಾ DKIM (DomainKeys ಗುರುತಿಸಲಾದ ಮೇಲ್) ಪರಿಶೀಲನೆಯಲ್ಲಿ ವಿಫಲವಾದ ಇಮೇಲ್‌ಗಳನ್ನು ಹೇಗೆ ನಿರ್ವಹಿಸಬೇಕು ಎಂಬುದನ್ನು ಸೂಚಿಸುತ್ತದೆ. p ಪ್ಯಾರಾಮೀಟರ್ ಅನ್ನು ಮೂರು ಮೌಲ್ಯಗಳಲ್ಲಿ ಒಂದಕ್ಕೆ ಹೊಂದಿಸಬಹುದು:

* ಯಾವುದೂ ಇಲ್ಲ: ಯಾವುದೇ ಕ್ರಮವನ್ನು ತೆಗೆದುಕೊಳ್ಳಲಾಗಿಲ್ಲ, ಪರಿಶೀಲನೆ ಫಲಿತಾಂಶವನ್ನು ಮಾತ್ರ ಇಮೇಲ್ ವರದಿ ಮಾಡುವ ಕಾರ್ಯವಿಧಾನದ ಮೂಲಕ ಕಳುಹಿಸುವವರಿಗೆ ಹಿಂತಿರುಗಿಸಲಾಗುತ್ತದೆ.
* ಕ್ವಾರಂಟೈನ್: ಪರಿಶೀಲನೆಯನ್ನು ರವಾನಿಸದ ಮೇಲ್ ಅನ್ನು ಸ್ಪ್ಯಾಮ್ ಫೋಲ್ಡರ್‌ಗೆ ಹಾಕಿ, ಆದರೆ ಮೇಲ್ ಅನ್ನು ನೇರವಾಗಿ ತಿರಸ್ಕರಿಸುವುದಿಲ್ಲ.
* ತಿರಸ್ಕರಿಸು: ಪರಿಶೀಲನೆಯಲ್ಲಿ ವಿಫಲವಾದ ಇಮೇಲ್‌ಗಳನ್ನು ನೇರವಾಗಿ ತಿರಸ್ಕರಿಸಿ.

### fo (ವೈಫಲ್ಯ ಆಯ್ಕೆಗಳು)

ವರದಿ ಮಾಡುವ ಕಾರ್ಯವಿಧಾನದಿಂದ ಹಿಂತಿರುಗಿದ ಮಾಹಿತಿಯ ಪ್ರಮಾಣವನ್ನು ನಿರ್ದಿಷ್ಟಪಡಿಸುತ್ತದೆ. ಇದನ್ನು ಈ ಕೆಳಗಿನ ಮೌಲ್ಯಗಳಲ್ಲಿ ಒಂದಕ್ಕೆ ಹೊಂದಿಸಬಹುದು:

* 0: ಎಲ್ಲಾ ಸಂದೇಶಗಳಿಗೆ ಮೌಲ್ಯಮಾಪನ ಫಲಿತಾಂಶಗಳನ್ನು ವರದಿ ಮಾಡಿ
* 1: ಪರಿಶೀಲನೆ ವಿಫಲವಾದ ಸಂದೇಶಗಳನ್ನು ಮಾತ್ರ ವರದಿ ಮಾಡಿ
* d: ಡೊಮೇನ್ ಹೆಸರು ಪರಿಶೀಲನೆ ವೈಫಲ್ಯಗಳನ್ನು ಮಾತ್ರ ವರದಿ ಮಾಡಿ
* s: SPF ಪರಿಶೀಲನೆ ವೈಫಲ್ಯಗಳನ್ನು ಮಾತ್ರ ವರದಿ ಮಾಡಿ
* l: DKIM ಪರಿಶೀಲನೆ ವೈಫಲ್ಯಗಳನ್ನು ಮಾತ್ರ ವರದಿ ಮಾಡಿ

### ರುವಾ ಮತ್ತು ರೂಫ್

* ರುವಾ (ಒಟ್ಟು ವರದಿಗಳಿಗಾಗಿ URI ವರದಿ ಮಾಡುವುದು): ಒಟ್ಟು ವರದಿಗಳನ್ನು ಸ್ವೀಕರಿಸಲು ಇಮೇಲ್ ವಿಳಾಸ
* ruf (ಫರೆನ್ಸಿಕ್ ವರದಿಗಳಿಗಾಗಿ URI ವರದಿ ಮಾಡುವುದು): ವಿವರವಾದ ವರದಿಗಳನ್ನು ಸ್ವೀಕರಿಸಲು ಇಮೇಲ್ ವಿಳಾಸ

## Google ಮೇಲ್‌ಗೆ ಇಮೇಲ್‌ಗಳನ್ನು ಫಾರ್ವರ್ಡ್ ಮಾಡಲು MX ದಾಖಲೆಗಳನ್ನು ಸೇರಿಸಿ

ಸಾರ್ವತ್ರಿಕ ವಿಳಾಸಗಳನ್ನು ಬೆಂಬಲಿಸುವ ಉಚಿತ ಕಾರ್ಪೊರೇಟ್ ಮೇಲ್‌ಬಾಕ್ಸ್ ಅನ್ನು ನಾನು ಹುಡುಕಲು ಸಾಧ್ಯವಾಗದ ಕಾರಣ (ಕ್ಯಾಚ್-ಆಲ್, ಈ ಡೊಮೇನ್ ಹೆಸರಿಗೆ ಕಳುಹಿಸಲಾದ ಯಾವುದೇ ಇಮೇಲ್‌ಗಳನ್ನು ಪೂರ್ವಪ್ರತ್ಯಯಗಳ ಮೇಲಿನ ನಿರ್ಬಂಧಗಳಿಲ್ಲದೆ ಸ್ವೀಕರಿಸಬಹುದು), ನನ್ನ Gmail ಮೇಲ್‌ಬಾಕ್ಸ್‌ಗೆ ಎಲ್ಲಾ ಇಮೇಲ್‌ಗಳನ್ನು ಫಾರ್ವರ್ಡ್ ಮಾಡಲು ನಾನು ಚಾಸ್ಕ್ವಿಡ್ ಅನ್ನು ಬಳಸಿದ್ದೇನೆ.

**ನಿಮ್ಮ ಸ್ವಂತ ಪಾವತಿಸಿದ ವ್ಯಾಪಾರದ ಮೇಲ್ಬಾಕ್ಸ್ ಅನ್ನು ನೀವು ಹೊಂದಿದ್ದರೆ, ದಯವಿಟ್ಟು MX ಅನ್ನು ಮಾರ್ಪಡಿಸಬೇಡಿ ಮತ್ತು ಈ ಹಂತವನ್ನು ಬಿಟ್ಟುಬಿಡಿ.**

`conf/chasquid/domains/wac.tax/aliases` ಎಡಿಟ್ ಮಾಡಿ, ಫಾರ್ವರ್ಡ್ ಮಾಡುವ ಮೇಲ್‌ಬಾಕ್ಸ್ ಅನ್ನು ಹೊಂದಿಸಿ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/OBDl2gw.webp)

`*` ಎಲ್ಲಾ ಇಮೇಲ್‌ಗಳನ್ನು ಸೂಚಿಸುತ್ತದೆ, `i` ಮೇಲೆ ರಚಿಸಲಾದ ಕಳುಹಿಸುವ ಬಳಕೆದಾರರ ಇಮೇಲ್ ವಿಳಾಸ ಪೂರ್ವಪ್ರತ್ಯಯವಾಗಿದೆ. ಮೇಲ್ ಅನ್ನು ಫಾರ್ವರ್ಡ್ ಮಾಡಲು, ಪ್ರತಿಯೊಬ್ಬ ಬಳಕೆದಾರರು ಒಂದು ಸಾಲನ್ನು ಸೇರಿಸುವ ಅಗತ್ಯವಿದೆ.

ನಂತರ MX ದಾಖಲೆಯನ್ನು ಸೇರಿಸಿ (ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ಮೊದಲ ಸಾಲಿನಲ್ಲಿ ತೋರಿಸಿರುವಂತೆ ನಾನು ಇಲ್ಲಿ ರಿವರ್ಸ್ ಡೊಮೇನ್ ಹೆಸರಿನ ವಿಳಾಸಕ್ಕೆ ನೇರವಾಗಿ ಸೂಚಿಸುತ್ತೇನೆ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/7__KrU8.webp)

ಕಾನ್ಫಿಗರೇಶನ್ ಪೂರ್ಣಗೊಂಡ ನಂತರ, ನೀವು Gmail ನಲ್ಲಿ ಇಮೇಲ್‌ಗಳನ್ನು ಸ್ವೀಕರಿಸಬಹುದೇ ಎಂದು ನೋಡಲು `i@wac.tax` ಮತ್ತು `any123@wac.tax` ಗೆ ಇಮೇಲ್‌ಗಳನ್ನು ಕಳುಹಿಸಲು ನೀವು ಇತರ ಇಮೇಲ್ ವಿಳಾಸಗಳನ್ನು ಬಳಸಬಹುದು.

ಇಲ್ಲದಿದ್ದರೆ, ಚಾಸ್ಕ್ವಿಡ್ ಲಾಗ್ ಅನ್ನು ಪರಿಶೀಲಿಸಿ ( `grep chasquid /var/log/syslog` ).

## Google ಮೇಲ್‌ನೊಂದಿಗೆ i@wac.tax ಗೆ ಇಮೇಲ್ ಕಳುಹಿಸಿ

Google ಮೇಲ್ ಮೇಲ್ ಸ್ವೀಕರಿಸಿದ ನಂತರ, i.wac.tax@gmail.com ಬದಲಿಗೆ `i@wac.tax` ಎಂದು ಉತ್ತರಿಸಲು ನಾನು ಸ್ವಾಭಾವಿಕವಾಗಿ ಆಶಿಸಿದ್ದೇನೆ.

[https://mail.google.com/mail/u/1/#settings/accounts](https://mail.google.com/mail/u/1/#settings/accounts) ಗೆ ಭೇಟಿ ನೀಡಿ ಮತ್ತು "ಮತ್ತೊಂದು ಇಮೇಲ್ ವಿಳಾಸವನ್ನು ಸೇರಿಸಿ" ಕ್ಲಿಕ್ ಮಾಡಿ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/PAvyE3C.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/_OgLsPT.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/XIUf6Dc.webp)

ನಂತರ, ಫಾರ್ವರ್ಡ್ ಮಾಡಲಾದ ಇಮೇಲ್ ಸ್ವೀಕರಿಸಿದ ಪರಿಶೀಲನಾ ಕೋಡ್ ಅನ್ನು ನಮೂದಿಸಿ.

ಅಂತಿಮವಾಗಿ, ಇದನ್ನು ಡೀಫಾಲ್ಟ್ ಕಳುಹಿಸುವವರ ವಿಳಾಸವಾಗಿ ಹೊಂದಿಸಬಹುದು (ಅದೇ ವಿಳಾಸದೊಂದಿಗೆ ಪ್ರತ್ಯುತ್ತರಿಸುವ ಆಯ್ಕೆಯೊಂದಿಗೆ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/a95dO60.webp)

ಈ ರೀತಿಯಾಗಿ, ನಾವು SMTP ಮೇಲ್ ಸರ್ವರ್ ಸ್ಥಾಪನೆಯನ್ನು ಪೂರ್ಣಗೊಳಿಸಿದ್ದೇವೆ ಮತ್ತು ಅದೇ ಸಮಯದಲ್ಲಿ ಇಮೇಲ್‌ಗಳನ್ನು ಕಳುಹಿಸಲು ಮತ್ತು ಸ್ವೀಕರಿಸಲು Google ಮೇಲ್ ಅನ್ನು ಬಳಸುತ್ತೇವೆ.

## ಕಾನ್ಫಿಗರೇಶನ್ ಯಶಸ್ವಿಯಾಗಿದೆಯೇ ಎಂದು ಪರೀಕ್ಷಿಸಲು ಪರೀಕ್ಷಾ ಇಮೇಲ್ ಅನ್ನು ಕಳುಹಿಸಿ

`ops/chasquid` ನಮೂದಿಸಿ

`direnv allow` (ಹಿಂದಿನ ಒಂದು-ಕೀ ಇನಿಶಿಯಲೈಸೇಶನ್ ಪ್ರಕ್ರಿಯೆಯಲ್ಲಿ ಡೈರೆನ್ವ್ ಅನ್ನು ಸ್ಥಾಪಿಸಲಾಗಿದೆ ಮತ್ತು ಶೆಲ್‌ಗೆ ಹುಕ್ ಅನ್ನು ಸೇರಿಸಲಾಗಿದೆ)

ನಂತರ ಓಡಿ

```
user=i@wac.tax pass=xxxx to=iuser.link@gmail.com ./sendmail.coffee
```

ನಿಯತಾಂಕಗಳ ಅರ್ಥವು ಈ ಕೆಳಗಿನಂತಿರುತ್ತದೆ

* ಬಳಕೆದಾರ: SMTP ಬಳಕೆದಾರಹೆಸರು
* ಪಾಸ್: SMTP ಪಾಸ್ವರ್ಡ್
* ಗೆ: ಸ್ವೀಕರಿಸುವವರಿಗೆ

ನೀವು ಪರೀಕ್ಷಾ ಇಮೇಲ್ ಅನ್ನು ಕಳುಹಿಸಬಹುದು.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ae1iWyM.webp)

ಕಾನ್ಫಿಗರೇಶನ್‌ಗಳು ಯಶಸ್ವಿಯಾಗಿದೆಯೇ ಎಂಬುದನ್ನು ಪರಿಶೀಲಿಸಲು ಪರೀಕ್ಷಾ ಇಮೇಲ್‌ಗಳನ್ನು ಸ್ವೀಕರಿಸಲು Gmail ಅನ್ನು ಬಳಸಲು ಶಿಫಾರಸು ಮಾಡಲಾಗಿದೆ.

### TLS ಪ್ರಮಾಣಿತ ಎನ್‌ಕ್ರಿಪ್ಶನ್

ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ತೋರಿಸಿರುವಂತೆ, ಈ ಸಣ್ಣ ಲಾಕ್ ಇದೆ, ಅಂದರೆ SSL ಪ್ರಮಾಣಪತ್ರವನ್ನು ಯಶಸ್ವಿಯಾಗಿ ಸಕ್ರಿಯಗೊಳಿಸಲಾಗಿದೆ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/SrdbAwh.webp)

ನಂತರ "ಮೂಲ ಇಮೇಲ್ ತೋರಿಸು" ಕ್ಲಿಕ್ ಮಾಡಿ

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/qQQsdxg.webp)

### DKIM

ಕೆಳಗಿನ ಚಿತ್ರದಲ್ಲಿ ತೋರಿಸಿರುವಂತೆ, Gmail ಮೂಲ ಮೇಲ್ ಪುಟವು DKIM ಅನ್ನು ಪ್ರದರ್ಶಿಸುತ್ತದೆ, ಅಂದರೆ DKIM ಕಾನ್ಫಿಗರೇಶನ್ ಯಶಸ್ವಿಯಾಗಿದೆ.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/an6aXK6.webp)

ಮೂಲ ಇಮೇಲ್‌ನ ಹೆಡರ್‌ನಲ್ಲಿ ಸ್ವೀಕರಿಸಲಾಗಿದೆ ಎಂಬುದನ್ನು ಪರಿಶೀಲಿಸಿ, ಮತ್ತು ಕಳುಹಿಸುವವರ ವಿಳಾಸವು IPV6 ಆಗಿರುವುದನ್ನು ನೀವು ನೋಡಬಹುದು, ಅಂದರೆ IPV6 ಅನ್ನು ಸಹ ಯಶಸ್ವಿಯಾಗಿ ಕಾನ್ಫಿಗರ್ ಮಾಡಲಾಗಿದೆ.
